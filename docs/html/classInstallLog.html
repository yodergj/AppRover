<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AppRover: InstallLog Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>InstallLog Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="InstallLog" -->
<p>Class for managing the entries of all packages which have been at least partially installed.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="InstallLog_8h_source.html">InstallLog.h</a>&gt;</code></p>

<p><a href="classInstallLog-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InstallLogStatusType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#ad2a9a60319ba4fb632bfe0de3590e5d3">Save</a> (string filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InstallLogStatusType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#aa7f1eae6dc009f173f4ccb51491248c2">Load</a> (string filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#afdd4793d52d76b415604faeda13398f4">Satisfies</a> (const <a class="el" href="classPackageDependency.html">PackageDependency</a> *dependency) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a29356895def7b25939d67f45e1380833">AddEntry</a> (<a class="el" href="classInstallEntry.html">InstallEntry</a> *newEntry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a6c77c6a3201e2859ccf24cf7f9cb744d">FindEntry</a> (string packageName, string packageRevision)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#acb9fe52ab30006e40739f16a7e0944ba">GetInstalledEntries</a> (string packageName, vector&lt; <a class="el" href="classInstallEntry.html">InstallEntry</a> * &gt; &amp;results)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a8842a74554f32a2394d5e7ea4beb8d8d">FindPartiallyInstalledEntry</a> (string packageName, string packageRevision)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a8ef99855039c22341b80bdb57c856636">FindOldestInstalledEntry</a> (string packageName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a0dd7eb71f1cf6d111f648a634d193535">FindNextOldestInstalledEntry</a> (<a class="el" href="classInstallEntry.html">InstallEntry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a45e6705f3d3f5a590c77adc7bd1efa59">FindInstalledSlotOccupant</a> (string packageName, string slot)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#af59a0c213c50573c256a5a6127df80ec">DeleteEntry</a> (string packageName, string packageRevision)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#aa606fb2996a945233853214e070e8058">DeleteEntry</a> (<a class="el" href="classInstallEntry.html">InstallEntry</a> *entry, bool removeRevDeps=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a6feab3b1212769d4c6438db2d152839a">GetRevisionInstalled</a> (string packageName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a1ce401877052edb63bb6094adfc074f1">RemovePartiallyInstalledSlotMates</a> (<a class="el" href="classInstallEntry.html">InstallEntry</a> *entry, string workDirectory)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#ae66d330827c1c9eacb54683b1949655c">RegisterReverseDependency</a> (string packageName, string revision, const <a class="el" href="classPackageDependency.html">PackageDependency</a> *dependency)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a82a5d01cb2c9335e5d82ebfd17aea1c5">ReleaseReverseDependenciesTo</a> (string packageName, string revision)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InstallEntryVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a43dc3969eb3bcd77a5d7cd02abd64da3">GetPackagesUsingFeature</a> (string featureName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InstallEntryVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#ae8b08f44ae8db7093250b22b47cd3a64">GetPartiallyInstalledPackages</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InstallEntryVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#a38ed17aae6ef7a6a7f4f70a90c1137ff">GetUnneededPackages</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afca2f6d83147355af3a979fb763228e3"></a><!-- doxytag: member="InstallLog::mInstallEntries" ref="afca2f6d83147355af3a979fb763228e3" args="" -->
InstallEntryVector&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of all [partially] installed packages in the system. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class for managing the entries of all packages which have been at least partially installed. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a29356895def7b25939d67f45e1380833"></a><!-- doxytag: member="InstallLog::AddEntry" ref="a29356895def7b25939d67f45e1380833" args="(InstallEntry *newEntry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InstallLog::AddEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>newEntry</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newEntry</em>&nbsp;</td><td>- the entry to add to the log </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if the entry is NULL</dd></dl>
<p>Adds an entry to the list of entries. </p>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>.</p>

</div>
</div>
<a class="anchor" id="af59a0c213c50573c256a5a6127df80ec"></a><!-- doxytag: member="InstallLog::DeleteEntry" ref="af59a0c213c50573c256a5a6127df80ec" args="(string packageName, string packageRevision)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InstallLog::DeleteEntry </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageRevision</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- name of the package recorded in the entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packageRevision</em>&nbsp;</td><td>- revision of the package recorded in the entry </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if no entry records a package with the specified name and revision</dd></dl>
<p>Deletes an entry containing a package with the specified name and revision. Removes all reverse dependencies which link to this entry. </p>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#acb5a68574b017a27d8df27dbb3249feb">AppRover::Clean()</a>, <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>, <a class="el" href="classInstallLog.html#a1ce401877052edb63bb6094adfc074f1">RemovePartiallyInstalledSlotMates()</a>, and <a class="el" href="classAppRover.html#a43fd77c6777299e9627043d76b5eb89a">AppRover::Uninstall()</a>.</p>

</div>
</div>
<a class="anchor" id="aa606fb2996a945233853214e070e8058"></a><!-- doxytag: member="InstallLog::DeleteEntry" ref="aa606fb2996a945233853214e070e8058" args="(InstallEntry *entry, bool removeRevDeps=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InstallLog::DeleteEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>removeRevDeps</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>entry</em>&nbsp;</td><td>- the entry to remove from the log </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>removeRevDeps</em>&nbsp;</td><td>- should reverse dependencies that point to this package be removed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if the entry was not found in the log</dd></dl>
<p>Removes the specifed entry from the log and removes the package from reverse dependencies of all other installed packages. </p>

<p>References <a class="el" href="classInstallEntry.html#afda8ce44ed7458b0a7ea40b3a06d1f80">InstallEntry::GetName()</a>, <a class="el" href="classInstallEntry.html#a0f53467f84620c65b1d5286b745dbe14">InstallEntry::GetNumDependencies()</a>, <a class="el" href="classInstallEntry.html#aed5257bfa3deaffc6e8bad46b69598df">InstallEntry::GetRevision()</a>, <a class="el" href="classRevision.html#a8c2e195e7b824dd7ac52fee0e9d464e0">Revision::GetString()</a>, and <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

</div>
</div>
<a class="anchor" id="a6c77c6a3201e2859ccf24cf7f9cb744d"></a><!-- doxytag: member="InstallLog::FindEntry" ref="a6c77c6a3201e2859ccf24cf7f9cb744d" args="(string packageName, string packageRevision)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstallEntry.html">InstallEntry</a> * InstallLog::FindEntry </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageRevision</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- name of the package recorded in the entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packageRevision</em>&nbsp;</td><td>- revision of the package recorded in the entry </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the entry contaiing the specified package and revision </dd>
<dd>
NULL if no entry records a package with the specified name and revision </dd></dl>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>, and <a class="el" href="classAppRover.html#adc41e93ee5042f8dd25d55f5d71dde1e">AppRover::Update()</a>.</p>

</div>
</div>
<a class="anchor" id="a45e6705f3d3f5a590c77adc7bd1efa59"></a><!-- doxytag: member="InstallLog::FindInstalledSlotOccupant" ref="a45e6705f3d3f5a590c77adc7bd1efa59" args="(string packageName, string slot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstallEntry.html">InstallEntry</a> * InstallLog::FindInstalledSlotOccupant </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>slot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- name of the package </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slot</em>&nbsp;</td><td>- the slot which the requested package occupies </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the installed entry with the given name that occupies the specified slot </dd>
<dd>
NULL if the package has not been installed or does not occupy the specifed slot </dd></dl>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>.</p>

</div>
</div>
<a class="anchor" id="a0dd7eb71f1cf6d111f648a634d193535"></a><!-- doxytag: member="InstallLog::FindNextOldestInstalledEntry" ref="a0dd7eb71f1cf6d111f648a634d193535" args="(InstallEntry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstallEntry.html">InstallEntry</a> * InstallLog::FindNextOldestInstalledEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>entry</em>&nbsp;</td><td>- the install entry used as a reference for find the next oldest installed entry </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the oldest installed entry which is newer than the reference entry </dd>
<dd>
NULL if entry is NULL or is the newest installed entry </dd></dl>

<p>References <a class="el" href="classInstallEntry.html#afda8ce44ed7458b0a7ea40b3a06d1f80">InstallEntry::GetName()</a>, <a class="el" href="classInstallEntry.html#aed5257bfa3deaffc6e8bad46b69598df">InstallEntry::GetRevision()</a>, and <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a43fd77c6777299e9627043d76b5eb89a">AppRover::Uninstall()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ef99855039c22341b80bdb57c856636"></a><!-- doxytag: member="InstallLog::FindOldestInstalledEntry" ref="a8ef99855039c22341b80bdb57c856636" args="(string packageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstallEntry.html">InstallEntry</a> * InstallLog::FindOldestInstalledEntry </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- name of the package recorded in the entry </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the entry contaiing the specified package and a revision older than the revision of any other entry for the specified package </dd>
<dd>
NULL if no entry records a package with the specified name </dd></dl>

<p>References <a class="el" href="classInstallEntry.html#aed5257bfa3deaffc6e8bad46b69598df">InstallEntry::GetRevision()</a>, and <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a43fd77c6777299e9627043d76b5eb89a">AppRover::Uninstall()</a>.</p>

</div>
</div>
<a class="anchor" id="a8842a74554f32a2394d5e7ea4beb8d8d"></a><!-- doxytag: member="InstallLog::FindPartiallyInstalledEntry" ref="a8842a74554f32a2394d5e7ea4beb8d8d" args="(string packageName, string packageRevision)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInstallEntry.html">InstallEntry</a> * InstallLog::FindPartiallyInstalledEntry </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageRevision</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- name of the package recorded in the entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packageRevision</em>&nbsp;</td><td>- revision of the package recorded in the entry </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the entry contaiing the specified package and revision </dd>
<dd>
NULL if no entry records a package with the specified name and revision </dd></dl>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>.</p>

</div>
</div>
<a class="anchor" id="acb9fe52ab30006e40739f16a7e0944ba"></a><!-- doxytag: member="InstallLog::GetInstalledEntries" ref="acb9fe52ab30006e40739f16a7e0944ba" args="(string packageName, vector&lt; InstallEntry * &gt; &amp;results)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InstallLog::GetInstalledEntries </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; <a class="el" href="classInstallEntry.html">InstallEntry</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>results</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- name of the package </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>results</em>&nbsp;</td><td>- (output) the installed entries of the specified package</td></tr>
  </table>
  </dd>
</dl>
<p>Finds all installed versions of the package and stores the entries in results. </p>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#ad675e823b438a08dc1535503b5aa0bd3">AppRover::ExcludeFromUpdates()</a>, and <a class="el" href="classAppRover.html#add7801c97dea6d502208da60aec36f0f">AppRover::Purify()</a>.</p>

</div>
</div>
<a class="anchor" id="a43dc3969eb3bcd77a5d7cd02abd64da3"></a><!-- doxytag: member="InstallLog::GetPackagesUsingFeature" ref="a43dc3969eb3bcd77a5d7cd02abd64da3" args="(string featureName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InstallEntryVector InstallLog::GetPackagesUsingFeature </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>featureName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>featureName</em>&nbsp;</td><td>- the name of the optional feature to locate in the entries </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>list of packages can use the optional feature </dd></dl>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a5ee48c29bdea34c555a67b7e0534da2e">AppRover::ActivateFeature()</a>, and <a class="el" href="classAppRover.html#a262e10b2a2aad96a036fb581d7fde951">AppRover::ActivateFeatureForPackage()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8b08f44ae8db7093250b22b47cd3a64"></a><!-- doxytag: member="InstallLog::GetPartiallyInstalledPackages" ref="ae8b08f44ae8db7093250b22b47cd3a64" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InstallEntryVector InstallLog::GetPartiallyInstalledPackages </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>list of all packages which have only been partially installed </dd></dl>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#acb5a68574b017a27d8df27dbb3249feb">AppRover::Clean()</a>.</p>

</div>
</div>
<a class="anchor" id="a6feab3b1212769d4c6438db2d152839a"></a><!-- doxytag: member="InstallLog::GetRevisionInstalled" ref="a6feab3b1212769d4c6438db2d152839a" args="(string packageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string InstallLog::GetRevisionInstalled </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- name of the package recorded in the entry </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>"" if the package has not been installed in the system </dd>
<dd>
Otherwise, the revision string of the specified installed package </dd></dl>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a8a9ff6b2675e102c268b48357f80ed57">AppRover::PopulatePackageList()</a>.</p>

</div>
</div>
<a class="anchor" id="a38ed17aae6ef7a6a7f4f70a90c1137ff"></a><!-- doxytag: member="InstallLog::GetUnneededPackages" ref="a38ed17aae6ef7a6a7f4f70a90c1137ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InstallEntryVector InstallLog::GetUnneededPackages </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>list of all packages which were not explicitly installed and are not dependencies of explicitly installed packages </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Add an input list of things to ignore </dd></dl>
</p>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#acb5a68574b017a27d8df27dbb3249feb">AppRover::Clean()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7f1eae6dc009f173f4ccb51491248c2"></a><!-- doxytag: member="InstallLog::Load" ref="aa7f1eae6dc009f173f4ccb51491248c2" args="(string filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InstallLogStatusType InstallLog::Load </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>filename</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>- the name of the file containing the installation log </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>LOG_FILE_NOT_SPECIFIED if filename is "" </dd>
<dd>
LOG_FILE_MISSING if the file does not exist </dd>
<dd>
LOG_FILE_FORMAT_ERROR if there is a problem with the data </dd>
<dd>
LOG_OK if successful</dd></dl>
<p>Loads the installation log from the specified file. </p>

<p>References <a class="el" href="classInstallEntry.html#a191dde3158c16aad9ffa22a7eb30bbc9">InstallEntry::Load()</a>, and <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a72d0c41e62b18cdf9139a6d437bf79ff">AppRover::AppRover()</a>.</p>

</div>
</div>
<a class="anchor" id="ae66d330827c1c9eacb54683b1949655c"></a><!-- doxytag: member="InstallLog::RegisterReverseDependency" ref="ae66d330827c1c9eacb54683b1949655c" args="(string packageName, string revision, const PackageDependency *dependency)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InstallLog::RegisterReverseDependency </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>revision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPackageDependency.html">PackageDependency</a> *&nbsp;</td>
          <td class="paramname"> <em>dependency</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- the name of the package with the specified dependency </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>revision</em>&nbsp;</td><td>- the revision of the package with the specified dependency </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dependency</em>&nbsp;</td><td>- package dependency used to determine the recipient of the reverse dependency</td></tr>
  </table>
  </dd>
</dl>
<p>Uses the dependency to locate a satisfiying package and associates the specified package name and revision as a reverse dependency. </p>

<p><p>Install dependencies are moot after package install, so no reverse dependencies are generated for them.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>Need to find best entry which satifies the dependency </dd></dl>
</p>

<p>References <a class="el" href="classPackageDependency.html#ac65f73c7cdc8bfdcd6e402b445ace0c1">PackageDependency::GetName()</a>, <a class="el" href="classPackageDependency.html#a35d3f868855e4ad70c200001c2037bbc">PackageDependency::GetType()</a>, <a class="el" href="classPackageDependency.html#a358eae90c5eeec6ddae5f385bda1731a">PackageDependency::IsSatisfiedBy()</a>, and <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>.</p>

</div>
</div>
<a class="anchor" id="a82a5d01cb2c9335e5d82ebfd17aea1c5"></a><!-- doxytag: member="InstallLog::ReleaseReverseDependenciesTo" ref="a82a5d01cb2c9335e5d82ebfd17aea1c5" args="(string packageName, string revision)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InstallLog::ReleaseReverseDependenciesTo </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>packageRevision</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packageName</em>&nbsp;</td><td>- name of the target package </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packageRevision</em>&nbsp;</td><td>- revision of the target package</td></tr>
  </table>
  </dd>
</dl>
<p>Deletes reverse dependencies which point to a package with the specified name and revision. If a single entry has more than one applicable reverse dependency, only one of them is removed. </p>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classInstallEntry.html#abce6aabc1f3e22a66ae9dc2d50bc0b00">InstallEntry::ClearDependencies()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ce401877052edb63bb6094adfc074f1"></a><!-- doxytag: member="InstallLog::RemovePartiallyInstalledSlotMates" ref="a1ce401877052edb63bb6094adfc074f1" args="(InstallEntry *entry, string workDirectory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InstallLog::RemovePartiallyInstalledSlotMates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInstallEntry.html">InstallEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>workDirectory</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>entry</em>&nbsp;</td><td>- the package occupying the slot to be cleaned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>workDirectory</em>&nbsp;</td><td>- the top level directory where builds are done </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if entry is NULL</dd></dl>
<p>Examines the package slot for the specified entry and clears out any other entries which occupy the same slot and are in a partially installed state. </p>

<p>References <a class="el" href="classInstallLog.html#af59a0c213c50573c256a5a6127df80ec">DeleteEntry()</a>, <a class="el" href="classInstallEntry.html#afda8ce44ed7458b0a7ea40b3a06d1f80">InstallEntry::GetName()</a>, <a class="el" href="classInstallEntry.html#a21a34fdc89eb9d7b924a1d0421be6546">InstallEntry::GetSlot()</a>, <a class="el" href="classInterpreter.html#ab7faef219a7956ee43338569f5cc1d2f">Interpreter::Interpret()</a>, and <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>.</p>

</div>
</div>
<a class="anchor" id="afdd4793d52d76b415604faeda13398f4"></a><!-- doxytag: member="InstallLog::Satisfies" ref="afdd4793d52d76b415604faeda13398f4" args="(const PackageDependency *dependency) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InstallLog::Satisfies </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPackageDependency.html">PackageDependency</a> *&nbsp;</td>
          <td class="paramname"> <em>dependency</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dependency</em>&nbsp;</td><td>- the dependency that need to be resolved </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if a package has been installed that satisfies the dependency</dd></dl>
<p>Determines whether the dependency has been satisfied by the installed packages. </p>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>Need to add support here for block packages </dd></dl>
</p>

<p>References <a class="el" href="classPackageDependency.html#ac65f73c7cdc8bfdcd6e402b445ace0c1">PackageDependency::GetName()</a>, <a class="el" href="classPackageDependency.html#a358eae90c5eeec6ddae5f385bda1731a">PackageDependency::IsSatisfiedBy()</a>, and <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2a9a60319ba4fb632bfe0de3590e5d3"></a><!-- doxytag: member="InstallLog::Save" ref="ad2a9a60319ba4fb632bfe0de3590e5d3" args="(string filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InstallLogStatusType InstallLog::Save </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>filename</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>- the name of the file to hold the installation log </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>LOG_FILE_NOT_SPECIFIED if filename is "" </dd>
<dd>
LOG_FILE_NOT_WRITABLE if the file could not be opened for writing </dd>
<dd>
LOG_OK if successful</dd></dl>
<p>Saves the installation log into the specified file. </p>

<p>References <a class="el" href="classInstallLog.html#afca2f6d83147355af3a979fb763228e3">mInstallEntries</a>.</p>

<p>Referenced by <a class="el" href="classAppRover.html#a72d0c41e62b18cdf9139a6d437bf79ff">AppRover::AppRover()</a>, <a class="el" href="classAppRover.html#ab4ceb34b3543c993355e688efc4b8f22">AppRover::BuildPackage()</a>, <a class="el" href="classAppRover.html#acb5a68574b017a27d8df27dbb3249feb">AppRover::Clean()</a>, <a class="el" href="classAppRover.html#a0df149dba65bac54640f454a04932178">AppRover::ConfigurePackage()</a>, <a class="el" href="classAppRover.html#ad675e823b438a08dc1535503b5aa0bd3">AppRover::ExcludeFromUpdates()</a>, <a class="el" href="classAppRover.html#a42c0b261f8ae5a664756d42bfff25208">AppRover::FetchPackage()</a>, <a class="el" href="classAppRover.html#a5758b110f26be98601dd0cd730f1b25a">AppRover::Install()</a>, <a class="el" href="classAppRover.html#ac81e23386f61cf784de4a9a15c0c0043">AppRover::InstallPackage()</a>, <a class="el" href="classAppRover.html#add7801c97dea6d502208da60aec36f0f">AppRover::Purify()</a>, <a class="el" href="classAppRover.html#a43fd77c6777299e9627043d76b5eb89a">AppRover::Uninstall()</a>, and <a class="el" href="classAppRover.html#a83009756c00c1aaff46fd35001d1b7c0">AppRover::UnpackPackage()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="InstallLog_8h_source.html">InstallLog.h</a></li>
<li>InstallLog.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 11 2012 21:20:41 for AppRover by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
